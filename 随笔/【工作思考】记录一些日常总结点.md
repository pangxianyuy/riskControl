---
这里是对整体的一个反思；
关于对日常的一些知识点的思考与总结
---

# 一、业界要求
在boss直聘app上以“风控”为关键词进行检索，可以总结风控方向需要的人员为：

- 风控产品经理
- 风控策略
- 风控运营
- 风控算法（建模） 

总体上这些也是一个风控团队所需要的核心组成，从大体上，风控策略和运营的工作内容类似；

## 1.1 风控算法工程师
从工作内容方向的要求，包括了模型的生命周期：
> 招聘要求：
> 1、依据业务海量数据，对业务各个环节进行数据梳理、数据抽象，构建核心指标体系；输出核心指标提给策略、产品和运营人员；（业务理解能力、数据抽象能力）；2、通过对数据、指标等进行分析、挖掘，抽象风险特征，构建算法模型和风控策略，并对抵御风险的效果负责；（建模、出策略）；3、针对特定的风险，制定风险监控、模型监控的告警机制；（效果评估能力）；4、案例分析、风控策略的设计、验证、监控、优化等一系列工作

从技术要求角度，各个职位对应聘者提出了一部分的技术要求，主要是大数据开发和模型开发方向：
> 1、语言要求：java、python、scala中至少一门语言，对数据结果和算法设计有较为深刻的理解；2、算法要求：熟悉决策树、聚类、逻辑回归、关联分析、gbdt、神经网络、boosting等；3、熟悉spark、hive等大数据处理技术；4、加分：神经网络、nlp、分类模型；


## 1.2 风控产品经理
从工作内容方向的要求，主要是需求分析、方案设计和业务交互：
>1、参与风控产品的中长期规划、产品架构设计；2、协调各部门资源支持，确保产品落地；3、业务部门需求确认、需求拆解和执行；4、关注黑产动向；5、熟悉风控系统相关组件，有各个业务场景的支撑经验；t



# 二、能力总结

## 2.1 业务数据化能力
### (1)指标体系
- 实时指标体系：主要是应用于实时模型和规则之中，会对现网产生具体的影响，体现对**业务的理解和对风险的限定（画框）**
- 非实时指标体系：用于业务描述和数据分析，非实时指标体系一定是分层分级的，组成有如下：
  - 一级指标：针对KPI完成情况进行描述，规定整体指标的工作方向
  - 二级指标：负责对一级指标进行拆解，用于对一级指标出现的异常情况进行分析
  - 三级指标：更细化的情况；（通常情况下的三级指标是用于数据分析和数据挖掘的）

数据分析

## 2.2 数据风险化能力
### （1）异常发现
实时指标的异常挖掘
离线指标的异常挖掘

###


### （2） 常用可视化分析方法

MDS

TSNE(大数据情况下，这种算法的时间很慢)

PCA

IFOREST


## 2.3 风险可控化能力
### （1） 已知规则的迭代优化
决策树 和 prim 算出来的结果，使用决策树的重要特征进行规则发现，效果并不好；

prim对高维数据效果不好，可以使用随机森林等方法进行降维，然后再发现规则；

[发现的一个风控大佬:如何制定风控策略](https://blog.sofunnyai.com/article/strategy.html)


### (2)因果推断在规则分析领域的应用？
去知乎了解有关因果推断的知识 
因果推断主要有两大分支，一个在讨论因果图（Causal Diagrams），一个在讨论因果效应（Causal Effect），前者主要讨论的是几个变量之间构成的图状的关系结构，而后者专注于探究因变量的变化对于结果到底有多少影响。在实际落地过程中，后者占据主导地位，毕竟我们最迫切需要的是**某一个或者某几个变量对于最终用户行为的影响**，从而指导我们的运营策略或者算法策略。

因果在互联网应用的核心在于**Uplift**，Uplift的核心在于一个框架，也就是：我们对用户施加一个干预（treatment），用户给出的反馈（outcome）会是什么。这里的干预可以是发红包券（营销场景）、也可以是加校验（风控场景）；

因果领域是一个相对成熟的领域，之前主要应用于计量经济学、医学、互联网弹性定价等领域，已经有成熟的开发包：

#### Uplift models:预测增量的模型
在营销和风控的实际应用场景中，我们常常需要衡量模型的好与坏；

- 在营销中是模型输出给与目标用户的营销成本补贴，然后反馈的是用户购买与否，即通过衡量P(buy|treatment) 来对treatment的模型进行评估和调整。但是这里会存在一个问题（或者叫误差），即可能用户本来就是要进行购买，无论是否有treatment；

- 在风控场景中则是，如果用户触发了校验类风控规则（非直接阻断），会对用户做增强校验：验证码、短信、密码等等，对应的是P(pass|treatment)。这里同样存在两种情况，一种是用户本身就无法通过校验（或者校验意愿低、或者手机不在身边、忘记密码等等情况），另一种是目标确实是问题情况；

因此，常规的List计算方法List=P(y|treatment)可能会遗漏一部分的信息，尤其是需要依靠这部分信息对treatment进行评价和调整的时候；

在因果推断的分析框架下，提出了一个衡量treatement对outcome的方法：Uplift = P(y|treatment) - P(y|no treatment)  

>感觉和shape值的方向类似，shape值中吧treatment作为了一个指标，如果去掉这个变量（t）则会对最终结果产生多大的正/负面影响；后续可以思考一下lift与shap之间的关系。


参考文献：
- [因果推断与uplift](https://zhuanlan.zhihu.com/p/400629975)
- [uber开源的一个还在更新的lift库：causalml](https://github.com/uber/causalml)
- [因果推断的一个库：pylift](https://blog.csdn.net/sinat_26917383/article/details/113835388)

## 2.4 监控迭代能力
### (1)监控指标：PSI、ACI

https://www.zhihu.com/question/24490261
模型的训练指标有ks、auc、roc等，模型上线之后需要监控时间窗口变化导致的模型性能下降，对特征的监控即是：PSI和ACI
不过很多讲解中，psi都是针对信贷分箱数据使用的，非分箱数据是否可用？

[psi](https://zhuanlan.zhihu.com/p/377396435)

[求是汪的文章：关于psi在信贷模型的使用](https://zhuanlan.zhihu.com/p/79682292)



# 规则 

# 指标